{"remainingRequest":"d:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!d:\\project\\luban\\luban-h5\\front-end\\h5\\src\\components\\core\\editor\\shortcuts-panel\\load-npm-plugins.vue?vue&type=script&lang=js&","dependencies":[{"path":"d:\\project\\luban\\luban-h5\\front-end\\h5\\src\\components\\core\\editor\\shortcuts-panel\\load-npm-plugins.vue","mtime":1575871735112},{"path":"d:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575454486584},{"path":"d:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\babel-loader\\lib\\index.js","mtime":1575361257763},{"path":"d:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575454486584},{"path":"d:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\vue-loader\\lib\\index.js","mtime":1575454488300}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport Vue from 'vue'\r\nexport default {\r\n  data () {\r\n    return {\r\n      visible: false,\r\n      confirmLoading: false,\r\n      text: JSON.stringify(\r\n        [\r\n          {\r\n            'package': '@luban-h5/lbp-slide',\r\n            'version': '0.0.7',\r\n            'name': 'lbp-slide',\r\n            'icon': 'photo',\r\n            'i18nTitle': {\r\n              'en-US': 'Carousel',\r\n              'zh-CN': '轮播图'\r\n            },\r\n            title: '轮播图',\r\n            visible: true\r\n          }\r\n        ], null, 2)\r\n    }\r\n  },\r\n  methods: {\r\n    showModal () {\r\n      this.visible = true\r\n    },\r\n    handleOk (e) {\r\n      const createjs = window.createjs\r\n\r\n      // eslint-disable-next-line no-new-func\r\n      let npmPackages = new Function(`return ${this.text}`.replace('\\n', ''))()\r\n      npmPackages = npmPackages.map(pluginInfo => ({\r\n        ...pluginInfo,\r\n        // src: `https://cdn.jsdelivr.net/npm/${pluginInfo}/dist/${pluginInfo.name}.umd.js`\r\n        // src: `https://unpkg.com/${pluginInfo}/dist/${pluginName}.umd.js`\r\n        src: `https://cdn.jsdelivr.net/npm/${pluginInfo.package}@${pluginInfo.version}/dist/${pluginInfo.name}.umd.js`\r\n      }))\r\n\r\n      const queue = new createjs.LoadQueue()\r\n      queue.on('fileload', handleFileLoad, this)\r\n      queue.on('complete', handleComplete, this)\r\n\r\n      queue.loadManifest(npmPackages)\r\n      function handleComplete (e) {\r\n        // 可以直接使用 this 的原因： query。on 最后一个参数用来做做 bind this 操作\r\n        this.visible = false\r\n        this.confirmLoading = false\r\n        this.$emit('loadComplete', npmPackages)\r\n      }\r\n\r\n      function handleFileLoad (event) {\r\n        const { name } = event.item\r\n        Vue.component(name, window[name])\r\n      }\r\n    },\r\n    handleCancel (e) {\r\n      this.visible = false\r\n    }\r\n  }\r\n}\r\n",{"version":3,"sources":["load-npm-plugins.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"load-npm-plugins.vue","sourceRoot":"src/components/core/editor/shortcuts-panel","sourcesContent":["<!--\r\n * @Author: ly525\r\n * @Date: 2019-11-23 12:35:43\r\n * @LastEditors: ly525\r\n * @LastEditTime: 2019-11-23 19:37:29\r\n * @FilePath: /luban-h5/front-end/h5/src/components/core/editor/shortcuts-panel/load-npm-plugins.vue\r\n * @Github: https://github.com/ly525/luban-h5\r\n * @Description: Do not edit\r\n * @Copyright 2018 - 2019 luban-h5. All Rights Reserved\r\n -->\r\n\r\n<template>\r\n  <div style=\"text-align: center\">\r\n    <!-- <a-button type=\"primary\" @click=\"showModal\">配置 NPM 组件列表</a-button> -->\r\n    <a-modal\r\n      title=\"NPM 组件列表配置信息\"\r\n      :visible=\"visible\"\r\n      @ok=\"handleOk\"\r\n      :confirmLoading=\"confirmLoading\"\r\n      @cancel=\"handleCancel\"\r\n    >\r\n      <div>\r\n        <a-textarea v-model=\"text\" placeholder=\"Basic usage\"  :rows=\"20\" />\r\n      </div>\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Vue from 'vue'\r\nexport default {\r\n  data () {\r\n    return {\r\n      visible: false,\r\n      confirmLoading: false,\r\n      text: JSON.stringify(\r\n        [\r\n          {\r\n            'package': '@luban-h5/lbp-slide',\r\n            'version': '0.0.7',\r\n            'name': 'lbp-slide',\r\n            'icon': 'photo',\r\n            'i18nTitle': {\r\n              'en-US': 'Carousel',\r\n              'zh-CN': '轮播图'\r\n            },\r\n            title: '轮播图',\r\n            visible: true\r\n          }\r\n        ], null, 2)\r\n    }\r\n  },\r\n  methods: {\r\n    showModal () {\r\n      this.visible = true\r\n    },\r\n    handleOk (e) {\r\n      const createjs = window.createjs\r\n\r\n      // eslint-disable-next-line no-new-func\r\n      let npmPackages = new Function(`return ${this.text}`.replace('\\n', ''))()\r\n      npmPackages = npmPackages.map(pluginInfo => ({\r\n        ...pluginInfo,\r\n        // src: `https://cdn.jsdelivr.net/npm/${pluginInfo}/dist/${pluginInfo.name}.umd.js`\r\n        // src: `https://unpkg.com/${pluginInfo}/dist/${pluginName}.umd.js`\r\n        src: `https://cdn.jsdelivr.net/npm/${pluginInfo.package}@${pluginInfo.version}/dist/${pluginInfo.name}.umd.js`\r\n      }))\r\n\r\n      const queue = new createjs.LoadQueue()\r\n      queue.on('fileload', handleFileLoad, this)\r\n      queue.on('complete', handleComplete, this)\r\n\r\n      queue.loadManifest(npmPackages)\r\n      function handleComplete (e) {\r\n        // 可以直接使用 this 的原因： query。on 最后一个参数用来做做 bind this 操作\r\n        this.visible = false\r\n        this.confirmLoading = false\r\n        this.$emit('loadComplete', npmPackages)\r\n      }\r\n\r\n      function handleFileLoad (event) {\r\n        const { name } = event.item\r\n        Vue.component(name, window[name])\r\n      }\r\n    },\r\n    handleCancel (e) {\r\n      this.visible = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}