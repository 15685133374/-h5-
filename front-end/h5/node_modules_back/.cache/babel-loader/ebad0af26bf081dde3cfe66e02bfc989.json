{"remainingRequest":"d:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\thread-loader\\dist\\cjs.js!d:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\babel-loader\\lib\\index.js!d:\\project\\luban\\luban-h5\\front-end\\h5\\src\\engine-entry.js","dependencies":[{"path":"d:\\project\\luban\\luban-h5\\front-end\\h5\\src\\engine-entry.js","mtime":1575701543792},{"path":"d:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575454486584},{"path":"d:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1575454488217},{"path":"d:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\babel-loader\\lib\\index.js","mtime":1575361257763}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.function.name\";\n\n/**\r\n * #!zh:\r\n * engine 页面是 webpack 构建多页面中的其中的一个页面\r\n * entry-entry 是 构建 engine 页面的入口，类似于 src/main.js 的作用\r\n * 作用：作品预览的渲染引擎，其实就是简单遍历 work(作品) 的 pages 以及 elements，显示即可\r\n * 主要在预览弹窗中预览 和 用户在手机上查看作品使用\r\n *\r\n */\nimport Vue from 'vue'; // import 'font-awesome/css/font-awesome.min.css'\n\nimport { pluginsList } from \"./mixins/load-plugins.js\";\nimport Element from \"./components/core/models/element\";\nimport NodeWrapper from '@/components/preview/node-wrapper.js';\nVue.config.productionTip = true;\nvar Engine = {\n  name: 'engine',\n  components: {\n    NodeWrapper: NodeWrapper\n  },\n  methods: {\n    renderPreview: function renderPreview(h, _elements) {\n      var elements = _elements.map(function (element) {\n        return new Element(element);\n      });\n\n      return h(\"div\", {\n        \"style\": {\n          width: '100%',\n          position: 'relative'\n        }\n      }, [elements.map(function (element, index) {\n        // const style = element.getStyle({ position: 'absolute', isRem: true })\n        // const data = {\n        //   style,\n        //   props: element.getProps({ mode: 'preview' })\n        // }\n        // return h(element.name, data)\n        return h(\"node-wrapper\", {\n          \"attrs\": {\n            \"element\": element\n          }\n        }, [h(element.name, element.getPreviewData({\n          position: 'static'\n        }))]);\n      })]);\n    }\n  },\n  render: function render(h) {\n    var _this = this;\n\n    var work = window.__work;\n    return h(\"div\", {\n      \"attrs\": {\n        \"id\": \"work-container\",\n        \"data-work-id\": work.id\n      }\n    }, [work.pages.map(function (page) {\n      return h(\"section\", {\n        \"class\": \"swiper-slide flat\"\n      }, [_this.renderPreview(h, page.elements)]);\n    })]);\n  }\n};\n\nvar install = function install(Vue) {\n  Vue.component(Engine.name, Engine);\n  pluginsList.forEach(function (plugin) {\n    Vue.component(plugin.name, plugin.component);\n  });\n}; // auto install\n\n\nif (typeof window !== 'undefined' && window.Vue) {\n  install(window.Vue);\n}\n\nexport default {\n  install: install,\n  Engine: Engine\n};",null]}