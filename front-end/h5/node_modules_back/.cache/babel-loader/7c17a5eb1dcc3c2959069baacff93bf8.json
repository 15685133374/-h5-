{"remainingRequest":"D:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\project\\luban\\luban-h5\\front-end\\h5\\src\\components\\plugins\\lbp-text.js","dependencies":[{"path":"D:\\project\\luban\\luban-h5\\front-end\\h5\\src\\components\\plugins\\lbp-text.js","mtime":1575526862322},{"path":"D:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575454486584},{"path":"D:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\babel-loader\\lib\\index.js","mtime":1575361257763},{"path":"D:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1575454465101}],"contextDependencies":[],"result":["/*\r\n * @Author: ly525\r\n * @Date: 2019-11-24 18:51:58\r\n * @LastEditors: ly525\r\n * @LastEditTime: 2019-11-30 23:01:55\r\n * @FilePath: /luban-h5/front-end/h5/src/components/plugins/lbp-text.js\r\n * @Github: https://github.com/ly525/luban-h5\r\n * @Description: luban-h5 text component/plugin\r\n * @Copyright 2018 - 2019 luban-h5. All Rights Reserved\r\n */\nimport { quillEditor } from 'vue-quill-editor'; // require styles\n\nimport 'quill/dist/quill.core.css';\nimport 'quill/dist/quill.snow.css';\nimport \"./styles/text-overwrite-quil-snow-theme.scss\";\nimport commonProps from \"./common/props.js\";\nexport default {\n  render: function render(h) {\n    var _this = this;\n\n    var style = {\n      position: 'relative',\n      color: \"\".concat(this.color, \" !important\"),\n      textDecoration: 'none',\n      backgroundColor: this.backgroundColor || 'rgba(255, 255, 255, 0.2)',\n      lineHeight: \"\".concat(this.lineHeight, \"em\"),\n      border: \"\".concat(this.borderWidth, \"px solid \").concat(this.borderColor),\n      borderRadius: \"\".concat(this.borderRadius, \"px\")\n    };\n    var pureText = h(\"div\", {\n      \"domProps\": {\n        \"innerHTML\": this.text\n      },\n      \"class\": \"ql-editor ql-container\"\n    });\n    return h(\"div\", {\n      \"on\": {\n        \"dblclick\": function dblclick(e) {\n          _this.canEdit = true;\n          e.stopPropagation();\n        },\n        \"mousedown\": function mousedown(e) {\n          if (_this.canEdit) {\n            e.stopPropagation();\n          }\n        }\n      },\n      \"directives\": [{\n        name: \"click-outside\",\n        value: function value(e) {\n          _this.canEdit = false;\n        }\n      }],\n      \"style\": style\n    }, [this.canEdit ? h(quillEditor, {\n      \"attrs\": {\n        \"content\": this.text,\n        \"options\": {\n          modules: {\n            // toolbar: '#toolbar-wrapper'\n            toolbar: [['bold', 'italic', 'underline', 'strike'], // 切换按钮\n            [{\n              'list': 'ordered'\n            }, {\n              'list': 'bullet'\n            }], [{\n              'color': []\n            }, {\n              'background': []\n            }], // 主题默认下拉，使用主题提供的值\n            [{\n              'align': []\n            }], ['clean'], // 清除格式\n            [{\n              'header': [1, 2, 3, 4, 5, 6, false]\n            }] // https://github.com/quilljs/quill/issues/1208\n            ]\n          },\n          theme: 'snow'\n        }\n      },\n      \"on\": {\n        \"change\": function change(_ref) {\n          var quill = _ref.quill,\n              html = _ref.html,\n              text = _ref.text;\n\n          _this.$emit('input', {\n            value: html,\n            pluginName: 'lbp-text'\n          });\n        }\n      }\n    }) : pureText]);\n  },\n  name: 'lbp-text',\n  data: function data() {\n    return {\n      canEdit: false,\n      innerText: this.text || '双击修改文字'\n    };\n  },\n  props: {\n    backgroundColor: commonProps.backgroundColor,\n    borderWidth: commonProps.borderWidth,\n    borderRadius: commonProps.borderRadius,\n    borderColor: commonProps.borderColor,\n    text: {\n      type: String,\n      default: '双击修改文字'\n    }\n  },\n  editorConfig: {}\n};",{"version":3,"sources":["D:/project/luban/luban-h5/front-end/h5/src/components/plugins/lbp-text.js"],"names":["quillEditor","commonProps","render","h","style","position","color","textDecoration","backgroundColor","lineHeight","border","borderWidth","borderColor","borderRadius","pureText","text","e","canEdit","stopPropagation","modules","toolbar","theme","quill","html","$emit","value","pluginName","name","data","innerText","props","type","String","default","editorConfig"],"mappings":"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","sourcesContent":["/*\r\n * @Author: ly525\r\n * @Date: 2019-11-24 18:51:58\r\n * @LastEditors: ly525\r\n * @LastEditTime: 2019-11-30 23:01:55\r\n * @FilePath: /luban-h5/front-end/h5/src/components/plugins/lbp-text.js\r\n * @Github: https://github.com/ly525/luban-h5\r\n * @Description: luban-h5 text component/plugin\r\n * @Copyright 2018 - 2019 luban-h5. All Rights Reserved\r\n */\r\nimport { quillEditor } from 'vue-quill-editor'\r\n// require styles\r\nimport 'quill/dist/quill.core.css'\r\nimport 'quill/dist/quill.snow.css'\r\nimport './styles/text-overwrite-quil-snow-theme.scss'\r\nimport commonProps from './common/props.js'\r\n\r\nexport default {\r\n  render (h) {\r\n    const style = {\r\n      position: 'relative',\r\n      color: `${this.color} !important`,\r\n      textDecoration: 'none',\r\n      backgroundColor: this.backgroundColor || 'rgba(255, 255, 255, 0.2)',\r\n      lineHeight: `${this.lineHeight}em`,\r\n      border: `${this.borderWidth}px solid ${this.borderColor}`,\r\n      borderRadius: `${this.borderRadius}px`\r\n    }\r\n    const pureText = <div domPropsInnerHTML={this.text} class=\"ql-editor ql-container\"></div>\r\n    return (\r\n      <div\r\n        onDblclick={e => {\r\n          this.canEdit = true\r\n          e.stopPropagation()\r\n        }}\r\n        onMousedown={e => {\r\n          if (this.canEdit) { e.stopPropagation() }\r\n        }}\r\n        v-click-outside={(e) => {\r\n          this.canEdit = false\r\n        }}\r\n        style={style}\r\n      >\r\n        {\r\n          this.canEdit\r\n            ? <quillEditor\r\n              content={this.text}\r\n              options={{\r\n                modules: {\r\n                  // toolbar: '#toolbar-wrapper'\r\n                  toolbar: [\r\n                    ['bold', 'italic', 'underline', 'strike'], // 切换按钮\r\n                    [{ 'list': 'ordered' }, { 'list': 'bullet' }],\r\n                    [{ 'color': [] }, { 'background': [] }], // 主题默认下拉，使用主题提供的值\r\n                    [{ 'align': [] }],\r\n                    ['clean'], // 清除格式\r\n                    [{ 'header': [1, 2, 3, 4, 5, 6, false] }]\r\n                    // https://github.com/quilljs/quill/issues/1208\r\n                  ]\r\n                },\r\n                theme: 'snow'\r\n              }}\r\n              onChange={({ quill, html, text }) => {\r\n                this.$emit('input', {\r\n                  value: html,\r\n                  pluginName: 'lbp-text'\r\n                })\r\n              }}>\r\n            </quillEditor>\r\n            : pureText\r\n        }\r\n      </div>\r\n    )\r\n  },\r\n  name: 'lbp-text',\r\n  data () {\r\n    return {\r\n      canEdit: false,\r\n      innerText: this.text || '双击修改文字'\r\n    }\r\n  },\r\n  props: {\r\n    backgroundColor: commonProps.backgroundColor,\r\n    borderWidth: commonProps.borderWidth,\r\n    borderRadius: commonProps.borderRadius,\r\n    borderColor: commonProps.borderColor,\r\n    text: {\r\n      type: String,\r\n      default: '双击修改文字'\r\n    }\r\n  },\r\n  editorConfig: {\r\n  }\r\n}\r\n"]}]}