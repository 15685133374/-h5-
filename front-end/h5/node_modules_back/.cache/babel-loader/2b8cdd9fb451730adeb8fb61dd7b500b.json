{"remainingRequest":"d:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\babel-loader\\lib\\index.js!d:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!d:\\project\\luban\\luban-h5\\front-end\\h5\\src\\components\\core\\support\\image-gallery\\gallery.js","dependencies":[{"path":"d:\\project\\luban\\luban-h5\\front-end\\h5\\src\\components\\core\\support\\image-gallery\\gallery.js","mtime":1575526862252},{"path":"d:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575454486584},{"path":"d:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\babel-loader\\lib\\index.js","mtime":1575361257763},{"path":"d:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1575454465101}],"contextDependencies":[],"result":["import \"./gallery.scss\";\nimport PersonalTab from \"./tabs/personal.js\";\nimport PixabayTab from \"./tabs/pixabay.js\";\nexport default {\n  name: 'lbs-image-gallery',\n  components: {},\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    value: {\n      type: String,\n      default: ''\n    }\n  },\n  data: function data() {\n    return {\n      tabs: [{\n        value: 'personal',\n        label: '我的图库'\n      }, {\n        value: 'pixabay',\n        label: 'Pixabay图库'\n      }],\n      activeTab: 'personal',\n      innerVisible: false,\n      pixabayList: []\n    };\n  },\n  computed: {},\n  watch: {\n    visible: function visible(value) {\n      this.innerVisible = value;\n    }\n  },\n  methods: {\n    showGallery: function showGallery() {\n      this.innerVisible = true;\n    },\n    handleClose: function handleClose() {\n      this.innerVisible = false;\n    },\n    changeTab: function changeTab(_ref) {\n      var key = _ref.key;\n      this.activeTab = key;\n    },\n    handleSelectImage: function handleSelectImage(item) {\n      this.handleClose();\n      this.$emit('change', item.previewURL);\n    },\n    renderContent: function renderContent() {\n      var _this = this;\n\n      var h = this.$createElement;\n\n      switch (this.activeTab) {\n        case 'personal':\n          return h(PersonalTab, {\n            \"on\": {\n              \"changeItem\": function changeItem(item) {\n                _this.handleSelectImage(item);\n              }\n            }\n          });\n\n        case 'pixabay':\n          return h(PixabayTab, {\n            \"on\": {\n              \"changeItem\": function changeItem(item) {\n                _this.handleSelectImage(item);\n              }\n            }\n          });\n      }\n    },\n    renderDefaultActivator: function renderDefaultActivator() {\n      var _this2 = this;\n\n      var h = this.$createElement;\n      var activatorWithoutImg = h(\"div\", {\n        \"class\": \"default-activator cursor-pointer empty-bg-activator\",\n        \"on\": {\n          \"click\": this.showGallery\n        }\n      }, [h(\"a-icon\", {\n        \"attrs\": {\n          \"type\": \"plus\"\n        }\n      })]);\n      var activatorWithImg = h(\"div\", {\n        \"on\": {\n          \"click\": this.showGallery\n        }\n      }, [h(\"div\", {\n        \"class\": \"default-activator cursor-pointer \"\n      }, [h(\"img\", {\n        \"attrs\": {\n          \"src\": this.value,\n          \"width\": \"50%\"\n        },\n        \"style\": {\n          margin: 'auto'\n        }\n      })]), h(\"div\", {\n        \"class\": \"flex-space-between\",\n        \"style\": \"margin-top: 8px;\"\n      }, [h(\"a-button\", {\n        \"attrs\": {\n          \"size\": \"small\"\n        }\n      }, [\"\\u66F4\\u6362\"]), h(\"a-button\", {\n        \"attrs\": {\n          \"size\": \"small\"\n        },\n        \"on\": {\n          \"click\": function click(e) {\n            e.stopPropagation();\n          }\n        }\n      }, [\"\\u88C1\\u526A\"]), h(\"a-button\", {\n        \"attrs\": {\n          \"size\": \"small\"\n        },\n        \"on\": {\n          \"click\": function click(e) {\n            e.stopPropagation();\n\n            _this2.handleSelectImage({\n              previewURL: ''\n            });\n          }\n        }\n      }, [\"\\u79FB\\u9664\"])])]);\n      return this.value ? activatorWithImg : activatorWithoutImg;\n    }\n  },\n  render: function render(h) {\n    return h(\"div\", [h(\"slot\", [this.renderDefaultActivator()]), h(\"a-modal\", {\n      \"attrs\": {\n        \"closable\": true,\n        \"title\": \"图片库\",\n        \"width\": \"65%\",\n        \"visible\": this.innerVisible,\n        \"bodyStyle\": {\n          margin: 0,\n          padding: 0\n        }\n      },\n      \"on\": {\n        \"ok\": this.handleClose,\n        \"cancel\": this.handleClose\n      }\n    }, [h(\"a-layout\", {\n      \"style\": \"height: 500px; position: relative;\"\n    }, [h(\"a-layout-sider\", {\n      \"attrs\": {\n        \"width\": \"200px\"\n      },\n      \"style\": \"background-color: white;\"\n    }, [h(\"a-menu\", {\n      \"attrs\": {\n        \"mode\": \"inline\",\n        \"defaultSelectedKeys\": ['personal']\n      },\n      \"on\": {\n        \"click\": this.changeTab\n      }\n    }, [this.tabs.map(function (tab, index) {\n      return h(\"a-menu-item\", {\n        \"key\": tab.value\n      }, [h(\"a-icon\", {\n        \"attrs\": {\n          \"type\": \"user\"\n        }\n      }), h(\"span\", [tab.label])]);\n    })])]), h(\"a-layout-content\", [this.renderContent()])])])]);\n  }\n};",{"version":3,"sources":["d:/project/luban/luban-h5/front-end/h5/src/components/core/support/image-gallery/gallery.js"],"names":["PersonalTab","PixabayTab","name","components","props","visible","type","Boolean","default","value","String","data","tabs","label","activeTab","innerVisible","pixabayList","computed","watch","methods","showGallery","handleClose","changeTab","key","handleSelectImage","item","$emit","previewURL","renderContent","renderDefaultActivator","activatorWithoutImg","activatorWithImg","margin","e","stopPropagation","render","h","padding","map","tab","index"],"mappings":"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","sourcesContent":["import './gallery.scss'\r\nimport PersonalTab from './tabs/personal.js'\r\nimport PixabayTab from './tabs/pixabay.js'\r\n\r\nexport default {\r\n  name: 'lbs-image-gallery',\r\n  components: {\r\n  },\r\n  props: {\r\n    visible: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    value: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data: () => ({\r\n    tabs: [\r\n      {\r\n        value: 'personal',\r\n        label: '我的图库'\r\n      },\r\n      {\r\n        value: 'pixabay',\r\n        label: 'Pixabay图库'\r\n      }\r\n    ],\r\n    activeTab: 'personal',\r\n    innerVisible: false,\r\n    pixabayList: []\r\n  }),\r\n  computed: {\r\n  },\r\n  watch: {\r\n    visible (value) {\r\n      this.innerVisible = value\r\n    }\r\n  },\r\n  methods: {\r\n    showGallery () {\r\n      this.innerVisible = true\r\n    },\r\n    handleClose () {\r\n      this.innerVisible = false\r\n    },\r\n    changeTab ({ key }) {\r\n      this.activeTab = key\r\n    },\r\n    handleSelectImage (item) {\r\n      this.handleClose()\r\n      this.$emit('change', item.previewURL)\r\n    },\r\n    renderContent () {\r\n      switch (this.activeTab) {\r\n        case 'personal':\r\n          return <PersonalTab onChangeItem={item => {\r\n            this.handleSelectImage(item)\r\n          }}/>\r\n        case 'pixabay':\r\n          return <PixabayTab onChangeItem={item => {\r\n            this.handleSelectImage(item)\r\n          }}/>\r\n      }\r\n    },\r\n    renderDefaultActivator () {\r\n      const activatorWithoutImg = (\r\n        <div\r\n          class=\"default-activator cursor-pointer empty-bg-activator\"\r\n          onClick={this.showGallery}\r\n        >\r\n          <a-icon type=\"plus\" />\r\n        </div>\r\n      )\r\n\r\n      const activatorWithImg = (\r\n        <div onClick={this.showGallery}>\r\n          <div class=\"default-activator cursor-pointer \"><img src={this.value} width=\"50%\" style={{ margin: 'auto' }} /></div>\r\n          <div class=\"flex-space-between\" style=\"margin-top: 8px;\">\r\n            <a-button size=\"small\">更换</a-button>\r\n            <a-button size=\"small\" onClick={e => {\r\n              e.stopPropagation()\r\n            }}>裁剪</a-button>\r\n            <a-button size=\"small\" onClick={(e) => {\r\n              e.stopPropagation()\r\n              this.handleSelectImage({ previewURL: '' })\r\n            }}>移除</a-button>\r\n          </div>\r\n        </div>\r\n      )\r\n      return (this.value ? activatorWithImg : activatorWithoutImg)\r\n    }\r\n  },\r\n  render (h) {\r\n    return (\r\n      <div>\r\n        <slot>{this.renderDefaultActivator()}</slot>\r\n        <a-modal\r\n          closable\r\n          title=\"图片库\"\r\n          width=\"65%\"\r\n          visible={this.innerVisible}\r\n          onOk={this.handleClose}\r\n          onCancel={this.handleClose}\r\n          bodyStyle={{ margin: 0, padding: 0 }}\r\n        >\r\n          <a-layout style=\"height: 500px; position: relative;\">\r\n            <a-layout-sider width=\"200px\" style=\"background-color: white;\">\r\n              <a-menu mode=\"inline\" defaultSelectedKeys={['personal']} onClick={this.changeTab}>\r\n                {\r\n                  this.tabs.map((tab, index) => (\r\n                    <a-menu-item key={tab.value} >\r\n                      <a-icon type=\"user\" />\r\n                      <span>{tab.label}</span>\r\n                    </a-menu-item>\r\n                  ))\r\n                }\r\n              </a-menu>\r\n            </a-layout-sider>\r\n            <a-layout-content>\r\n              {this.renderContent()}\r\n            </a-layout-content>\r\n          </a-layout>\r\n        </a-modal>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"]}]}