{"remainingRequest":"D:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\project\\luban\\luban-h5\\front-end\\h5\\src\\components\\core\\support\\image-gallery\\tabs\\personal.js","dependencies":[{"path":"D:\\project\\luban\\luban-h5\\front-end\\h5\\src\\components\\core\\support\\image-gallery\\tabs\\personal.js","mtime":1575526862262},{"path":"D:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575454486584},{"path":"D:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\babel-loader\\lib\\index.js","mtime":1575361257763},{"path":"D:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1575454465101}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport _toConsumableArray from \"D:\\\\project\\\\luban\\\\luban-h5\\\\front-end\\\\h5\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/toConsumableArray\";\nimport axios from 'axios';\nimport ImageItem from \"../components/image-item.js\";\nimport Uploader from \"../components/uploader.js\";\nexport default {\n  data: function data() {\n    return {\n      items: [],\n      cachedItems: [],\n      loading: false\n    };\n  },\n  methods: {\n    uploadSuccess: function uploadSuccess(_ref) {\n      var file = _ref.file,\n          fileList = _ref.fileList;\n      var response = file.response.length && file.response[0];\n      this.items = [{\n        name: response.name,\n        previewURL: response.url\n      }].concat(_toConsumableArray(this.cachedItems));\n    },\n    beforeUpload: function beforeUpload(file) {\n      this.items.unshift({\n        loading: true\n      });\n      return file;\n    }\n  },\n  render: function render(h) {\n    var _this = this;\n\n    return h(\"div\", [h(\"a-spin\", {\n      \"attrs\": {\n        \"tip\": \"Loading...\",\n        \"spinning\": this.loading\n      }\n    }, [h(\"a-card\", [h(Uploader, {\n      \"slot\": \"extra\",\n      \"attrs\": {\n        \"beforeUpload\": function beforeUpload(file) {\n          return _this.beforeUpload(file);\n        },\n        \"uploadSuccess\": function uploadSuccess(info) {\n          return _this.uploadSuccess(info);\n        }\n      }\n    }), h(\"a-list\", {\n      \"style\": \"height: 400px; overflow: auto;\",\n      \"attrs\": {\n        \"grid\": {\n          gutter: 12,\n          column: 3\n        },\n        \"dataSource\": this.items,\n        \"renderItem\": function renderItem(item, index) {\n          return h(\"a-list-item\", {\n            \"on\": {\n              \"click\": function click() {\n                _this.$emit('changeItem', item);\n              }\n            }\n          }, [h(ImageItem, {\n            \"attrs\": {\n              \"item\": item\n            }\n          })]);\n        }\n      }\n    })])])]);\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    // demo code\n    axios.get('https://pixabay.com/api/?key=12120348-2ad26e4cc05d9bc068097ab3b&q=yellow+flowers&image_type=photo&pretty=true').then(function (res) {\n      _this2.items = res.data.hits;\n      _this2.cachedItems = res.data.hits.slice(0);\n    });\n  }\n};",{"version":3,"sources":["D:/project/luban/luban-h5/front-end/h5/src/components/core/support/image-gallery/tabs/personal.js"],"names":["axios","ImageItem","Uploader","data","items","cachedItems","loading","methods","uploadSuccess","file","fileList","response","length","name","previewURL","url","beforeUpload","unshift","render","h","info","gutter","column","item","index","$emit","mounted","get","then","res","hits","slice"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP;AACA,OAAOC,QAAP;AAEA,eAAe;AACbC,EAAAA,IAAI,EAAE;AAAA,WAAO;AACXC,MAAAA,KAAK,EAAE,EADI;AAEXC,MAAAA,WAAW,EAAE,EAFF;AAGXC,MAAAA,OAAO,EAAE;AAHE,KAAP;AAAA,GADO;AAMbC,EAAAA,OAAO,EAAE;AACPC,IAAAA,aADO,+BAC4B;AAAA,UAAlBC,IAAkB,QAAlBA,IAAkB;AAAA,UAAZC,QAAY,QAAZA,QAAY;AACjC,UAAMC,QAAQ,GAAGF,IAAI,CAACE,QAAL,CAAcC,MAAd,IAAwBH,IAAI,CAACE,QAAL,CAAc,CAAd,CAAzC;AACA,WAAKP,KAAL,IAAc;AAAES,QAAAA,IAAI,EAAEF,QAAQ,CAACE,IAAjB;AAAuBC,QAAAA,UAAU,EAAEH,QAAQ,CAACI;AAA5C,OAAd,4BAAoE,KAAKV,WAAzE;AACD,KAJM;AAKPW,IAAAA,YALO,wBAKOP,IALP,EAKa;AAClB,WAAKL,KAAL,CAAWa,OAAX,CAAmB;AACjBX,QAAAA,OAAO,EAAE;AADQ,OAAnB;AAGA,aAAOG,IAAP;AACD;AAVM,GANI;AAkBbS,EAAAA,MAlBa,kBAkBLC,CAlBK,EAkBF;AAAA;;AACT;AAAA;AAAA,eAEgB,YAFhB;AAAA,oBAEuC,KAAKb;AAF5C;AAAA;AAAA,cAKe,OALf;AAAA;AAAA,wBAMwB,sBAAAG,IAAI;AAAA,iBAAI,KAAI,CAACO,YAAL,CAAkBP,IAAlB,CAAJ;AAAA,SAN5B;AAAA,yBAOyB,uBAAAW,IAAI;AAAA,iBAAI,KAAI,CAACZ,aAAL,CAAmBY,IAAnB,CAAJ;AAAA;AAP7B;AAAA;AAAA,eAUgB,gCAVhB;AAAA;AAAA,gBAWgB;AAAEC,UAAAA,MAAM,EAAE,EAAV;AAAcC,UAAAA,MAAM,EAAE;AAAtB,SAXhB;AAAA,sBAYsB,KAAKlB,KAZ3B;AAAA,sBAasB,oBAACmB,IAAD,EAAOC,KAAP;AAAA;AAAA;AAAA,uBACY,iBAAM;AAC1B,gBAAA,KAAI,CAACC,KAAL,CAAW,YAAX,EAAyBF,IAAzB;AACD;AAHS;AAAA;AAAA;AAAA,sBAISA;AAJT;AAAA;AAAA;AAbtB;AAAA;AA0BD,GA7CY;AA8CbG,EAAAA,OA9Ca,qBA8CF;AAAA;;AACT;AACA1B,IAAAA,KAAK,CACF2B,GADH,CACO,+GADP,EAEGC,IAFH,CAEQ,UAAAC,GAAG,EAAI;AACX,MAAA,MAAI,CAACzB,KAAL,GAAayB,GAAG,CAAC1B,IAAJ,CAAS2B,IAAtB;AACA,MAAA,MAAI,CAACzB,WAAL,GAAmBwB,GAAG,CAAC1B,IAAJ,CAAS2B,IAAT,CAAcC,KAAd,CAAoB,CAApB,CAAnB;AACD,KALH;AAMD;AAtDY,CAAf","sourcesContent":["import axios from 'axios'\r\nimport ImageItem from '../components/image-item.js'\r\nimport Uploader from '../components/uploader.js'\r\n\r\nexport default {\r\n  data: () => ({\r\n    items: [],\r\n    cachedItems: [],\r\n    loading: false\r\n  }),\r\n  methods: {\r\n    uploadSuccess ({ file, fileList }) {\r\n      const response = file.response.length && file.response[0]\r\n      this.items = [{ name: response.name, previewURL: response.url }, ...this.cachedItems]\r\n    },\r\n    beforeUpload (file) {\r\n      this.items.unshift({\r\n        loading: true\r\n      })\r\n      return file\r\n    }\r\n  },\r\n  render (h) {\r\n    return (\r\n      <div>\r\n        <a-spin tip=\"Loading...\" spinning={this.loading}>\r\n          <a-card>\r\n            <Uploader\r\n              slot=\"extra\"\r\n              beforeUpload={file => this.beforeUpload(file)}\r\n              uploadSuccess={info => this.uploadSuccess(info)}\r\n            />\r\n            <a-list\r\n              style=\"height: 400px; overflow: auto;\"\r\n              grid={{ gutter: 12, column: 3 }}\r\n              dataSource={this.items}\r\n              renderItem={(item, index) => (\r\n                <a-list-item onClick={() => {\r\n                  this.$emit('changeItem', item)\r\n                }}>\r\n                  <ImageItem item={item} />\r\n                </a-list-item>\r\n              )}\r\n            >\r\n            </a-list>\r\n          </a-card>\r\n        </a-spin>\r\n      </div>\r\n    )\r\n  },\r\n  mounted () {\r\n    // demo code\r\n    axios\r\n      .get('https://pixabay.com/api/?key=12120348-2ad26e4cc05d9bc068097ab3b&q=yellow+flowers&image_type=photo&pretty=true')\r\n      .then(res => {\r\n        this.items = res.data.hits\r\n        this.cachedItems = res.data.hits.slice(0)\r\n      })\r\n  }\r\n}\r\n"]}]}