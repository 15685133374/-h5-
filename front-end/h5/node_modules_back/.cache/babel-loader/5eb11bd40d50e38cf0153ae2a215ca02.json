{"remainingRequest":"D:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\project\\luban\\luban-h5\\front-end\\h5\\src\\components\\plugins\\lbp-slide__editor.js","dependencies":[{"path":"D:\\project\\luban\\luban-h5\\front-end\\h5\\src\\components\\plugins\\lbp-slide__editor.js","mtime":1575526862322},{"path":"D:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575454486584},{"path":"D:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\babel-loader\\lib\\index.js","mtime":1575361257763},{"path":"D:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1575454465101}],"contextDependencies":[],"result":["export default {\n  props: {\n    elementProps: {\n      type: Object,\n      default: function _default() {\n        return {\n          items: [],\n          activeIndex: 0\n        };\n      }\n    }\n  },\n  computed: {\n    innerItems: function innerItems() {\n      return this.elementProps.items;\n    }\n  },\n  data: function data() {\n    return {\n      current: 1\n    };\n  },\n  methods: {\n    itemRender: function itemRender(current, type, originalElement) {\n      var _this = this;\n\n      var h = this.$createElement;\n\n      if (type === 'prev') {\n        return h(\"a-button\", {\n          \"style\": {\n            marginRight: '8px'\n          },\n          \"attrs\": {\n            \"size\": \"small\",\n            \"icon\": \"minus\",\n            \"disabled\": this.innerItems.length === 1\n          },\n          \"on\": {\n            \"click\": function click() {\n              return _this.minus(current);\n            }\n          }\n        });\n      } else if (type === 'next') {\n        return h(\"a-button\", {\n          \"style\": {\n            marginLeft: '8px'\n          },\n          \"attrs\": {\n            \"size\": \"small\",\n            \"icon\": \"plus\"\n          },\n          \"on\": {\n            \"click\": this.add\n          }\n        });\n      }\n\n      return originalElement;\n    },\n    add: function add() {\n      // this.$emit('change', {\n      //   activeIndex: this.innerItems.length,\n      //   items: [\n      //     ...this.innerItems,\n      //     {\n      //       image: '',\n      //       value: `选项${this.innerItems.length + 1}-value`,\n      //       label: `选项${this.innerItems.length + 1}-label`\n      //     }\n      //   ]\n      // })\n      this.elementProps.items.push({\n        image: '',\n        value: \"\\u9009\\u9879\".concat(this.innerItems.length + 1, \"-value\"),\n        label: \"\\u9009\\u9879\".concat(this.innerItems.length + 1, \"-label\")\n      });\n    },\n    minus: function minus(index) {\n      if (this.innerItems.length === 1) return;\n      this.elementProps.items.splice(index, 1); // this.elementProps.activeIndex = index > 0 ? index - 1 : 0\n\n      this.elementProps.activeIndex = Math.max(index - 1, 0); // const items = this.innerItems.slice(0)\n      // items.splice(index, 1)\n      // this.$emit('change', {\n      //   items,\n      //   activeIndex: index > 0 ? index - 1 : 0\n      // })\n    }\n  },\n  render: function render() {\n    var _this2 = this;\n\n    var h = arguments[0];\n    var currentItem = this.innerItems[this.current - 1] || {};\n    return h(\"div\", [h(\"a-pagination\", {\n      \"attrs\": {\n        \"current\": this.current,\n        \"size\": \"small\",\n        \"total\": this.innerItems.length,\n        \"defaultPageSize\": 1,\n        \"itemRender\": this.itemRender\n      },\n      \"on\": {\n        \"change\": function change(page) {\n          _this2.current = page;\n          _this2.elementProps.activeIndex = page - 1; // this.$emit('change', {\n          //   items: this.innerItems,\n          //   activeIndex: page - 1\n          // })\n        }\n      }\n    }), h(\"lbs-image-gallery\", {\n      \"style\": {\n        margin: '16px 0'\n      },\n      \"attrs\": {\n        \"value\": currentItem.image\n      },\n      \"on\": {\n        \"change\": function change(url) {\n          currentItem.image = url;\n        }\n      }\n    })]);\n  }\n};",{"version":3,"sources":["D:/project/luban/luban-h5/front-end/h5/src/components/plugins/lbp-slide__editor.js"],"names":["props","elementProps","type","Object","default","items","activeIndex","computed","innerItems","data","current","methods","itemRender","originalElement","marginRight","length","minus","marginLeft","add","push","image","value","label","index","splice","Math","max","render","currentItem","page","margin","url"],"mappings":"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","sourcesContent":["export default {\r\n  props: {\r\n    elementProps: {\r\n      type: Object,\r\n      default: () => ({\r\n        items: [],\r\n        activeIndex: 0\r\n      })\r\n    }\r\n  },\r\n  computed: {\r\n    innerItems () {\r\n      return this.elementProps.items\r\n    }\r\n  },\r\n  data: () => ({\r\n    current: 1\r\n  }),\r\n  methods: {\r\n    itemRender (current, type, originalElement) {\r\n      if (type === 'prev') {\r\n        return <a-button style={{ marginRight: '8px' }} size=\"small\" icon=\"minus\" onClick={() => this.minus(current)} disabled={this.innerItems.length === 1}></a-button>\r\n      } else if (type === 'next') {\r\n        return <a-button style={{ marginLeft: '8px' }} size=\"small\" icon=\"plus\" onClick={this.add}></a-button>\r\n      }\r\n      return originalElement\r\n    },\r\n    add () {\r\n      // this.$emit('change', {\r\n      //   activeIndex: this.innerItems.length,\r\n      //   items: [\r\n      //     ...this.innerItems,\r\n      //     {\r\n      //       image: '',\r\n      //       value: `选项${this.innerItems.length + 1}-value`,\r\n      //       label: `选项${this.innerItems.length + 1}-label`\r\n      //     }\r\n      //   ]\r\n      // })\r\n      this.elementProps.items.push({\r\n        image: '',\r\n        value: `选项${this.innerItems.length + 1}-value`,\r\n        label: `选项${this.innerItems.length + 1}-label`\r\n      })\r\n    },\r\n    minus (index) {\r\n      if (this.innerItems.length === 1) return\r\n      this.elementProps.items.splice(index, 1)\r\n      // this.elementProps.activeIndex = index > 0 ? index - 1 : 0\r\n      this.elementProps.activeIndex = Math.max(index - 1, 0)\r\n      // const items = this.innerItems.slice(0)\r\n      // items.splice(index, 1)\r\n      // this.$emit('change', {\r\n      //   items,\r\n      //   activeIndex: index > 0 ? index - 1 : 0\r\n      // })\r\n    }\r\n  },\r\n  render () {\r\n    const currentItem = this.innerItems[this.current - 1] || {}\r\n    return <div>\r\n      {\r\n        <a-pagination\r\n          current={this.current}\r\n          onChange={(page) => {\r\n            this.current = page\r\n\r\n            this.elementProps.activeIndex = page - 1\r\n            // this.$emit('change', {\r\n            //   items: this.innerItems,\r\n            //   activeIndex: page - 1\r\n            // })\r\n          }}\r\n          size=\"small\"\r\n          total={this.innerItems.length}\r\n          defaultPageSize={1}\r\n          itemRender={this.itemRender}\r\n        />\r\n      }\r\n      <lbs-image-gallery\r\n        style={{ margin: '16px 0' }}\r\n        value={currentItem.image}\r\n        onChange={url => {\r\n          currentItem.image = url\r\n        }}\r\n      />\r\n    </div>\r\n  }\r\n\r\n}\r\n"]}]}