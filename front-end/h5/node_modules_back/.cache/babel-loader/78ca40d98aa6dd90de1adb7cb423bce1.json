{"remainingRequest":"D:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\thread-loader\\dist\\cjs.js!D:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\luban\\luban-h5\\front-end\\h5\\src\\components\\plugins\\lbp-form-radio-group.js","dependencies":[{"path":"D:\\project\\luban\\luban-h5\\front-end\\h5\\src\\components\\plugins\\lbp-form-radio-group.js","mtime":1574607078487},{"path":"D:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575454486584},{"path":"D:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1575454488217},{"path":"D:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\babel-loader\\lib\\index.js","mtime":1575361257763}],"contextDependencies":[],"result":["/*\n * @Author: ly525\n * @Date: 2019-11-23 12:35:43\n * @LastEditors: ly525\n * @LastEditTime: 2019-11-23 19:50:57\n * @FilePath: /luban-h5/front-end/h5/src/components/plugins/lbp-form-radio-group.js\n * @Github: https://github.com/ly525/luban-h5\n * @Description: 表单单选组组件 #!en: radio group component\n * @Copyright 2018 - 2019 luban-h5. All Rights Reserved\n */\nimport LbpFormRadio from \"./lbp-form-radio.js\";\n\nfunction getDefaultItems() {\n  // defaultItems.slice(0)[0] === defaultItems.slice(0)[0] -> true\n  // Object.assign(defaultItems)[0] === Object.assign(defaultItems)[0] -> true\n  // clone = (val) => JSON.parse(JSON.stringify(val))\n  // clone(defaultItems)[0] === clone(defaultItems)[0] -> false\n  var defaultItems = [{\n    value: '选项A'\n  }, {\n    value: '选项B'\n  }, {\n    value: '选项C'\n  }];\n  return defaultItems;\n}\n\nexport default {\n  name: 'lbp-form-radio-group',\n  props: {\n    aliasName: {\n      type: String,\n      default: \"\\u6807\\u9898\\u6F14\\u793A\",\n      editor: {\n        type: 'a-input',\n        label: '填写标题',\n        require: true\n      }\n    },\n    items: {\n      type: Array,\n      default: function _default() {\n        return getDefaultItems();\n      },\n      editor: {\n        type: 'lbs-prop-text-enum-editor',\n        label: '选项列表',\n        require: true\n      }\n    },\n    type: {\n      type: String,\n      default: 'radio',\n      editor: {\n        type: 'a-radio-group',\n        label: '选择模式',\n        require: true,\n        prop: {\n          options: [{\n            label: '单选',\n            value: 'radio'\n          }, {\n            label: '多选',\n            value: 'checkbox'\n          }],\n          name: 'mode'\n        }\n      }\n    }\n  },\n  data: function data() {\n    return {\n      value: this.type === 'radio' ? '' : [],\n      uuid: undefined\n    };\n  },\n  computed: {\n    value_: function value_() {\n      if (this.type === 'radio') {\n        return this.value;\n      } else {\n        var value = Array.isArray(this.value) && this.value || [];\n        return value.join(',');\n      }\n    }\n  },\n  watch: {\n    type: function type(_type) {\n      this.value = _type === 'radio' ? '' : [];\n    }\n  },\n  mounted: function mounted() {\n    this.uuid = this.$el.dataset.uuid;\n  },\n  methods: {\n    /**\n     * @param {String, Number} val radioValue or checkboxValue\n     */\n    onChange: function onChange(val) {\n      switch (this.type) {\n        case 'radio':\n          this.toggleRadio(val);\n          break;\n\n        case 'checkbox':\n          this.toggleCheckbox(val);\n          break;\n\n        default:\n          break;\n      }\n    },\n    toggleCheckbox: function toggleCheckbox(val) {\n      var index = this.value.indexOf(val);\n\n      if (index === -1) {\n        this.value.push(val);\n      } else {\n        this.value.splice(index, 1);\n      }\n    },\n    toggleRadio: function toggleRadio(val) {\n      this.value = val;\n    }\n  },\n  render: function render() {\n    var _this = this;\n\n    var h = arguments[0];\n    return h(\"div\", [h(\"h3\", [this.aliasName]), h(\"input\", {\n      \"attrs\": {\n        \"type\": \"text\",\n        \"hidden\": true,\n        \"data-type\": \"lbp-form-input\",\n        \"data-uuid\": this.uuid\n      },\n      \"domProps\": {\n        \"value\": this.value_\n      }\n    }), this.items.map(function (item) {\n      return h(LbpFormRadio, {\n        \"attrs\": {\n          \"vertical\": true,\n          \"value\": item.value,\n          \"checked\": _this.value === item.value,\n          \"aliasName\": _this.uuid,\n          \"type\": _this.type\n        },\n        \"on\": {\n          \"change\": _this.onChange\n        }\n      }, [item.value]);\n    })]);\n  }\n};",null]}