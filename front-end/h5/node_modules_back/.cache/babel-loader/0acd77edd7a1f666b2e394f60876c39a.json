{"remainingRequest":"D:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\project\\luban\\luban-h5\\front-end\\h5\\src\\components\\core\\support\\contexmenu.js","dependencies":[{"path":"D:\\project\\luban\\luban-h5\\front-end\\h5\\src\\components\\core\\support\\contexmenu.js","mtime":1575526862242},{"path":"D:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575454486584},{"path":"D:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\babel-loader\\lib\\index.js","mtime":1575361257763},{"path":"D:\\project\\luban\\luban-h5\\front-end\\h5\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1575454465101}],"contextDependencies":[],"result":["// import { contains } from '../../../utils/dom-helper.js'\nvar contextmenuOptions = [{\n  i18nLabel: 'editor.centerPanel.contextMenu.copy',\n  label: '复制',\n  value: 'copy'\n}, {\n  i18nLabel: 'editor.centerPanel.contextMenu.delete',\n  label: '删除',\n  value: 'delete'\n}];\nvar zindexContextMenu = [{\n  i18nLabel: 'editor.centerPanel.contextMenu.moveToTop',\n  label: '置顶',\n  value: 'move2Top'\n}, {\n  i18nLabel: 'editor.centerPanel.contextMenu.moveToBottom',\n  label: '置底',\n  value: 'move2Bottom'\n}, {\n  i18nLabel: 'editor.centerPanel.contextMenu.moveUp',\n  label: '上移',\n  value: 'addZindex'\n}, {\n  i18nLabel: 'editor.centerPanel.contextMenu.moveDown',\n  label: '下移',\n  value: 'minusZindex'\n}];\nvar horizontalMenuStyle = {\n  height: '35px',\n  lineHeight: '35px',\n  border: 'none',\n  borderTop: '1px solid #eee'\n};\nexport default {\n  props: {\n    position: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  methods: {\n    handleSelectMenu: function handleSelectMenu(_ref) {\n      var item = _ref.item,\n          key = _ref.key,\n          selectedKeys = _ref.selectedKeys;\n      this.$emit('select', {\n        item: item,\n        key: key,\n        selectedKeys: selectedKeys\n      }); // elementManager({ type: key })\n    },\n    hideContextMenu: function hideContextMenu() {\n      this.$emit('hideMenu');\n    },\n    handleMouseLeave: function handleMouseLeave(e) {\n      // const contextmenu = this.$refs.contextmenu\n      // if (\n      //   e &&\n      //   e.relatedTarget &&\n      //   contextmenu &&\n      //   contextmenu.$el &&\n      //   contains(e.relatedTarget, contextmenu.$el)\n      // ) {\n      //   return\n      // }\n      this.hideContextMenu();\n    }\n  },\n  render: function render(h) {\n    var _this = this;\n\n    var contextStyle = {\n      left: this.position[0] + 'px',\n      top: this.position[1] + 'px',\n      userSelect: 'none',\n      position: 'absolute',\n      zIndex: 999\n    };\n    return h(\"a-card\", {\n      \"attrs\": {\n        \"bodyStyle\": {\n          padding: '4px'\n        }\n      },\n      \"ref\": \"contextmenu\",\n      \"style\": contextStyle,\n      \"on\": {\n        \"mouseleave\": this.handleMouseLeave\n      }\n    }, [h(\"a-menu\", {\n      \"attrs\": {\n        \"inlineIndent\": 4,\n        \"mode\": \"inline\"\n      },\n      \"on\": {\n        \"select\": this.handleSelectMenu\n      },\n      \"style\": {\n        border: 'none'\n      }\n    }, [contextmenuOptions.map(function (option) {\n      return h(\"a-menu-item\", {\n        \"key\": option.value,\n        \"attrs\": {\n          \"data-command\": option.value\n        },\n        \"style\": {\n          height: '30px',\n          lineHeight: '30px',\n          margin: 0\n        }\n      }, [_this.$t(option.i18nLabel)]);\n    })]), h(\"a-menu\", {\n      \"attrs\": {\n        \"mode\": \"horizontal\"\n      },\n      \"ref\": \"contextmenu\",\n      \"on\": {\n        \"select\": this.handleSelectMenu\n      },\n      \"style\": horizontalMenuStyle\n    }, [zindexContextMenu.map(function (option) {\n      return h(\"a-menu-item\", {\n        \"key\": option.value,\n        \"attrs\": {\n          \"data-command\": option.value\n        },\n        \"style\": {\n          height: '35px',\n          lineHeight: '35px',\n          padding: '0 4px 4px'\n        }\n      }, [_this.$t(option.i18nLabel)]);\n    })])]);\n  }\n};",{"version":3,"sources":["D:/project/luban/luban-h5/front-end/h5/src/components/core/support/contexmenu.js"],"names":["contextmenuOptions","i18nLabel","label","value","zindexContextMenu","horizontalMenuStyle","height","lineHeight","border","borderTop","props","position","type","Array","default","methods","handleSelectMenu","item","key","selectedKeys","$emit","hideContextMenu","handleMouseLeave","e","render","h","contextStyle","left","top","userSelect","zIndex","padding","map","option","margin","$t"],"mappings":"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","sourcesContent":["\r\n// import { contains } from '../../../utils/dom-helper.js'\r\n\r\nconst contextmenuOptions = [\r\n  {\r\n    i18nLabel: 'editor.centerPanel.contextMenu.copy',\r\n    label: '复制',\r\n    value: 'copy'\r\n  },\r\n  {\r\n    i18nLabel: 'editor.centerPanel.contextMenu.delete',\r\n    label: '删除',\r\n    value: 'delete'\r\n  }\r\n]\r\n\r\nconst zindexContextMenu = [\r\n  {\r\n    i18nLabel: 'editor.centerPanel.contextMenu.moveToTop',\r\n    label: '置顶',\r\n    value: 'move2Top'\r\n  },\r\n  {\r\n    i18nLabel: 'editor.centerPanel.contextMenu.moveToBottom',\r\n    label: '置底',\r\n    value: 'move2Bottom'\r\n  },\r\n  {\r\n    i18nLabel: 'editor.centerPanel.contextMenu.moveUp',\r\n    label: '上移',\r\n    value: 'addZindex'\r\n  },\r\n  {\r\n    i18nLabel: 'editor.centerPanel.contextMenu.moveDown',\r\n    label: '下移',\r\n    value: 'minusZindex'\r\n  }\r\n]\r\n\r\nconst horizontalMenuStyle = {\r\n  height: '35px',\r\n  lineHeight: '35px',\r\n  border: 'none',\r\n  borderTop: '1px solid #eee'\r\n}\r\n\r\nexport default {\r\n  props: {\r\n    position: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  methods: {\r\n    handleSelectMenu ({ item, key, selectedKeys }) {\r\n      this.$emit('select', { item, key, selectedKeys }) // elementManager({ type: key })\r\n    },\r\n    hideContextMenu () {\r\n      this.$emit('hideMenu')\r\n    },\r\n    handleMouseLeave (e) {\r\n      // const contextmenu = this.$refs.contextmenu\r\n      // if (\r\n      //   e &&\r\n      //   e.relatedTarget &&\r\n      //   contextmenu &&\r\n      //   contextmenu.$el &&\r\n      //   contains(e.relatedTarget, contextmenu.$el)\r\n      // ) {\r\n      //   return\r\n      // }\r\n      this.hideContextMenu()\r\n    }\r\n  },\r\n  render (h) {\r\n    const contextStyle = {\r\n      left: this.position[0] + 'px',\r\n      top: this.position[1] + 'px',\r\n      userSelect: 'none',\r\n      position: 'absolute',\r\n      zIndex: 999\r\n    }\r\n    return (\r\n      <a-card\r\n        bodyStyle={{ padding: '4px' }}\r\n        ref=\"contextmenu\"\r\n        style={contextStyle}\r\n        // refrence: https://github.com/vueComponent/ant-design-vue/blob/master/components/vc-trigger/Trigger.jsx#L205\r\n        onMouseleave={this.handleMouseLeave}\r\n      >\r\n        <a-menu\r\n          inlineIndent={4}\r\n          mode=\"inline\"\r\n          onSelect={this.handleSelectMenu}\r\n          style={{ border: 'none' }}\r\n        >\r\n          { contextmenuOptions.map(option => (\r\n            <a-menu-item\r\n              key={option.value}\r\n              data-command={option.value}\r\n              style={{ height: '30px', lineHeight: '30px', margin: 0 }}\r\n            >{this.$t(option.i18nLabel)}</a-menu-item>\r\n          ))\r\n          }\r\n        </a-menu>\r\n        <a-menu\r\n          mode=\"horizontal\"\r\n          ref=\"contextmenu\"\r\n          onSelect={this.handleSelectMenu}\r\n          style={horizontalMenuStyle}\r\n        >\r\n          { zindexContextMenu.map(option => (\r\n            <a-menu-item\r\n              key={option.value}\r\n              data-command={option.value}\r\n              style={{ height: '35px', lineHeight: '35px', padding: '0 4px 4px' }}\r\n            >{this.$t(option.i18nLabel)}</a-menu-item>\r\n          ))\r\n          }\r\n        </a-menu>\r\n      </a-card>\r\n    )\r\n  }\r\n}\r\n"]}]}